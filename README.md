# 简介
一个机遇Django的质量保障工具，内含api自动化测试和api监控两个模块，api自动化测试部分支持get,post,websocket等方式的接口；api监控部分暂时只支持websocket模式访问。
## 环境：
                Python 3.6.3
                Django 2.0.1
                Pymysql 0.8.0
                Requests 2.18.4
                websocket_client 0.57.0
                uwsgi
                django-crontab
## 主要功能
### api自动化测试

                    项目管理
                    测试环境管理
                    接口管理
                    用例管理
                    测试计划管理
### 签名设置：
    目前还未实现，为以后接口需要签名时预留       
		 
## 项目管理
  项目的增删改查，可以选择对应的签名方式
		 
### 接口管理
     接口的增删改查
     
### 测试环境管理
     测试环境的增删改查，方便执行的时候快速切换测试环境
		 
### 用例管理
     测试用例的增删改查，单个用例调试
		 
### 用例增加
    一个用例中可以有多个接口，用例中新增接口时，选择接口后点击确定即可。<br>
    用例中用$符号来定义变量，用来多个接口之间参数的传递 <br>
    如：
    登录接口　url: /login  data: {"phonenum": "13599999999", "password":"123456"}  登录成功后,　返回userid <br>
	查询客户信息接口　url: /userinfo/13599999999  data: {"userid": $userid} <br>
    这里首先需要定义一个要访问登陆接口，然后添加提取参数名称和取值路径，此时参数名称前不需要添加$,执行的时候，会自动按照取值路径获取值，并赋予到该参数名称上，下个接口查询客户信息时，在body参数中<br>
    引用上个接口提取的参数时，需要加$参数名，例如{"userid": $userid}
    由于userid是登录接口返回的参数，所以在登录接口这一步需要添加一个提取参数userid,然后执行的时候会自动取值并替换 <br>
    
    取值路径规则：目前只支持返回接口时JSON格式，如果取值路径是以"/"开头的话会按照给出的路径精确查找，遇到列表时，要给出列表中要取的值的下标，例如：/ctrl/params/timers/-1/id ，此处-1是取列表的的以后一个<br>
               如果不是以"/"开头时，默认取返回数据中跟该值相等的值的value，如果有多个值相等时，默认返回第一个。
### 测试计划管理
计划的增删改查<br>
计划制定，可以根据项目选择多个用例，主要用来批量执行用例<br>
执行方式包括普通的执行和定时执行（暂时未做），执行完成后，可以查看测试报告 <br>

## API监控
### API监控
    监控的增删改查和运行
    添加监控页面， api：需要输入协议接口的全部，例如：wss://www.baudui.com/v0/channels
                header: 需要输入的JSON格式，有多个时，必须都在一个大括号里，例如：{"X-Iotnd-APIKey":"sss","bbb":"ccc"}
                body: 需要输入JSON格式
                数据校验：返回值校验，可以不填，必须为JSON格式，key为要找的值，value是预期该值的value,例如：{"code":200,"text":"ok"}

### 监控管理
    监控归属项目的增删该查
    
### 报警通知：
    报警通知的dingding回调地址和报警静默期设置